import{ae as V,af as m,a3 as E,ag as j,H as R,T as B,ah as C,K as Y,ai as L,ab as $,aj as x,ak as z,al as T,R as w,Q as D,N as G,y as v,am as K,an as Q,ao as U,ap as F,aq as J,ar as X,aa as Z,v as tt,p as et,x as S,k as rt,c as at}from"./Ckh3FWwo.js";import{b as nt}from"./D9bZ1WhE.js";function pt(t,e){if(e){const a=document.body;t.autofocus=!0,V(()=>{document.activeElement===a&&t.focus()})}}let I=!1;function ot(){I||(I=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const a of t.target.elements)(e=a.__on_r)==null||e.call(a)})},{capture:!0}))}function M(t){var e=j,a=R;m(null),E(null);try{return t()}finally{m(e),E(a)}}function ht(t,e,a,s=a){t.addEventListener(e,()=>M(a));const n=t.__on_r;n?t.__on_r=()=>{n(),s()}:t.__on_r=s,ot()}const H=new Set,k=new Set;function st(t,e,a,s){function n(r){if(s.capture||y.call(e,r),!r.cancelBubble)return M(()=>a.call(this,r))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?V(()=>{e.addEventListener(t,n,s)}):e.addEventListener(t,n,s),n}function vt(t,e,a,s,n){var r={capture:s,passive:n},u=st(t,e,a,r);(e===document.body||e===window||e===document)&&B(()=>{e.removeEventListener(t,u,r)})}function yt(t){for(var e=0;e<t.length;e++)H.add(t[e]);for(var a of k)a(t)}function y(t){var O;var e=this,a=e.ownerDocument,s=t.type,n=((O=t.composedPath)==null?void 0:O.call(t))||[],r=n[0]||t.target,u=0,p=t.__root;if(p){var l=n.indexOf(p);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var d=n.indexOf(e);if(d===-1)return;l<=d&&(u=l)}if(r=n[u]||t.target,r!==e){C(t,"currentTarget",{configurable:!0,get(){return r||a}});var b=j,c=R;m(null),E(null);try{for(var o,i=[];r!==null;){var f=r.assignedSlot||r.parentNode||r.host||null;try{var _=r["__"+s];if(_!==void 0&&!r.disabled)if(Y(_)){var[W,...q]=_;W.apply(r,[t,...q])}else _.call(r,t)}catch(g){o?i.push(g):o=g}if(t.cancelBubble||f===e||f===null)break;r=f}if(o){for(let g of i)queueMicrotask(()=>{throw g});throw o}}finally{t.__root=e,delete t.currentTarget,m(b),E(c)}}}function gt(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const it=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function wt(t){return it.includes(t)}const ut={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",srcobject:"srcObject"};function mt(t){return t=t.toLowerCase(),ut[t]??t}const ct=["touchstart","touchmove"];function ft(t){return ct.includes(t)}let N=!0;function Et(t){N=t}function bt(t,e){var a=e==null?"":typeof e=="object"?e+"":e;a!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=a,t.nodeValue=a==null?"":a+"")}function lt(t,e){return P(t,e)}function Tt(t,e){L(),e.intro=e.intro??!1;const a=e.target,s=S,n=v;try{for(var r=$(a);r&&(r.nodeType!==8||r.data!==x);)r=z(r);if(!r)throw T;w(!0),D(r),G();const u=P(t,{...e,anchor:r});if(v===null||v.nodeType!==8||v.data!==K)throw Q(),T;return w(!1),u}catch(u){if(u===T)return e.recover===!1&&U(),L(),F(a),w(!1),lt(t,e);throw u}finally{w(s),D(n)}}const h=new Map;function P(t,{target:e,anchor:a,props:s={},events:n,context:r,intro:u=!0}){L();var p=new Set,l=c=>{for(var o=0;o<c.length;o++){var i=c[o];if(!p.has(i)){p.add(i);var f=ft(i);e.addEventListener(i,y,{passive:f});var _=h.get(i);_===void 0?(document.addEventListener(i,y,{passive:f}),h.set(i,1)):h.set(i,_+1)}}};l(J(H)),k.add(l);var d=void 0,b=X(()=>{var c=a??e.appendChild(Z());return tt(()=>{if(r){et({});var o=at;o.c=r}n&&(s.$$events=n),S&&nt(c,null),N=u,d=t(c,s)||{},N=!0,S&&(R.nodes_end=v),r&&rt()}),()=>{var f;for(var o of p){e.removeEventListener(o,y);var i=h.get(o);--i===0?(document.removeEventListener(o,y),h.delete(o)):h.set(o,i)}k.delete(l),A.delete(d),c!==a&&((f=c.parentNode)==null||f.removeChild(c))}});return A.set(d,b),d}let A=new WeakMap;function Lt(t){const e=A.get(t);e&&e()}export{Et as a,ot as b,st as c,yt as d,pt as e,wt as f,N as g,Tt as h,gt as i,vt as j,ht as l,lt as m,mt as n,bt as s,Lt as u};
